# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ7: –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –ø–∞—Ç–µ—Ä–Ω Retry

**–í–∞—Ä—ñ–∞–Ω—Ç:** 8  

## üìù –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è
–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ö–∞–Ω—ñ–∑–º—É –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ –≤–≤–æ–¥—É/–≤–∏–≤–æ–¥—É —Ç–∞ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞—Ç–µ—Ä–Ω—É **Retry** (–ø–æ–≤—Ç–æ—Ä–Ω–∞ —Å–ø—Ä–æ–±–∞). –ü—Ä–æ–≥—Ä–∞–º–∞ —ñ–º—ñ—Ç—É—î –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω—É —Ä–æ–±–æ—Ç—É —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –º–µ—Ä–µ–∂—ñ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω—É—é—á–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ñ —Å–ø—Ä–æ–±–∏ –∑ –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é.

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
* **RetryHelper**: –£–∑–∞–≥–∞–ª—å–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∫–ª–∞—Å, —â–æ —Ä–µ–∞–ª—ñ–∑—É—î –ª–æ–≥—ñ–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–± (Backoff Strategy).
* **FileProcessor**: –ö–ª–∞—Å, —â–æ —ñ–º—ñ—Ç—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É (–ø–æ–º–∏–ª–∫–∞ `IOException` –ø–µ—Ä—à—ñ 4 —Ä–∞–∑–∏).
* **NetworkClient**: –ö–ª–∞—Å, —â–æ —ñ–º—ñ—Ç—É—î POST-–∑–∞–ø–∏—Ç (–ø–æ–º–∏–ª–∫–∞ `HttpRequestException` –ø–µ—Ä—à—ñ 2 —Ä–∞–∑–∏).
* **Program**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É, –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤.

---

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫—Ä–∏—Ç–µ—Ä—ñ—ó–≤ (–ß–µ–∫-–ª—ñ—Å—Ç)

* **–í –∫–æ–¥—ñ:**
    * –ö–ª–∞—Å `public static class RetryHelper`.
    * –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞: `var delay = initialDelay * Math.Pow(2, attempt);` (—á–∞—Å –ø–æ–¥–≤–æ—é—î—Ç—å—Å—è –∑ –∫–æ–∂–Ω–æ—é —Å–ø—Ä–æ–±–æ—é).
    * –õ–æ–≥—É–≤–∞–Ω–Ω—è: `Console.WriteLine($"[Log] Attempt {attempt} failed...");`.

* **–í –∫–æ–¥—ñ:**
    * –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ `shouldRetry`: `Func<Exception, bool> myRetryLogic = (ex) => ex is IOException || ...`.
    * –°—Ü–µ–Ω–∞—Ä—ñ–π 1 (File): `retryCount: 5` (—â–æ–± –ø—Ä–æ–π—Ç–∏ 4 –ø–æ–º–∏–ª–∫–∏).
    * –°—Ü–µ–Ω–∞—Ä—ñ–π 2 (Network): `retryCount: 3` (—â–æ–± –ø—Ä–æ–π—Ç–∏ 2 –ø–æ–º–∏–ª–∫–∏).


<p align="center"> <i>![–°–∫—Ä—ñ–Ω—à–æ—Ç –∫–æ–Ω—Å–æ–ª—ñ](https://prnt.sc/Vy_0HM84dw2q)</i> </p>

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏
1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ .NET SDK.
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª —É –ø–∞–ø—Ü—ñ –ø—Ä–æ—î–∫—Ç—É.
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É:
   ```bash
   dotnet run